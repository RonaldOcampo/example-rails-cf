{
    "name": "<%= deployment_name %>",
    "datacenter": "<%= datacenter %>",
    "tenant": "<%= tenant %>",
    "appliances": [
        {
            "type": "iis",
            "name": "web",
            "roles": {
                "iis": {
                    "count": 2
                }
            }
        },
        {
            "type": "mongoreplicaset",
            "name": "db"
        },
        {
            "type": "haproxy-failover",
            "name": "lb"
        }
    ],
    "application_steps": [
        {
            "name": "lb-service-registry-master",
            "command": "<%= artifactory %>/<%= project_code %>/<%= revision_number %>/multinode_lb_solo_run.sh",
            "role": "master",
            "applianceName": "lb"
        },
        {
            "name": "lb-service-registry-slave",
            "command": "<%= artifactory %>/<%= project_code %>/<%= revision_number %>/multinode_lb_solo_run.sh",
            "role": "slave",
            "applianceName": "lb"
        },
        {
            "name": "web",
            "command": "<%= artifactory %>/<%= project_code %>/<%= revision_number %>/multinode_web_solo_run.sh",
            "role": "iis",
            "applianceName": "web"
        },
        {
            "name": "lb-master",
            "command": "<%= artifactory %>/<%= project_code %>/<%= revision_number %>/multinode_lb_solo_run.sh",
            "role": "master",
            "applianceName": "lb"
        },
        {
            "name": "lb-slave",
            "command": "<%= artifactory %>/<%= project_code %>/<%= revision_number %>/multinode_lb_solo_run.sh",
            "role": "slave",
            "applianceName": "lb"
        },
        {
            "name": "db-primary",
            "command": "<%= artifactory %>/<%= project_code %>/<%= revision_number %>/multinode_db_solo_run.sh",
            "role": "primary",
            "applianceName": "db"
        },
        {
            "name": "db-member",
            "command": "<%= artifactory %>/<%= project_code %>/<%= revision_number %>/multinode_db_solo_run.sh",
            "role": "member",
            "applianceName": "db"
        }
    ],
    "metadata": {
        "enable_hardening": <%= enable_hardening %>,
        "send_to_noc": "<%= send_to_noc %>",
        "domain": "<%= domain %>",
        "a_record": "<%= deployment_name %>"
    }
}
